<section class="signup h-100">
  <div class="container py-5 h-100">
    <div class="row d-flex justify-content-center align-items-center h-100">
      <div class="col">
        <div class="card card-registration my-4">
          <div class="row g-0">
            <!-- Image ou illustration pour VroomStat -->
            <div class="col-xl-6 d-none d-xl-block">
              <img src="assets/e-constat.jpg" alt="VroomStat" class="img-fluid image-side" />
            </div>
            <!-- Formulaire d'inscription -->
            <div class="col-xl-6">
              <div class="card-body p-md-5">
                <h3 class="mb-5 text-uppercase text-center title">
                  Inscris-toi <br> gère tes sinistres auto en toute simplicité
                </h3>
                
                <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
                  <!-- Affichage des erreurs -->
                  @if (error) {
                    <div class="alert alert-danger">{{error}}</div>
                  }
                  
                  <!-- Form Group pour Nom -->
                  <div class="form-group mb-4">
                    <label for="nom" class="form-label">Nom</label>
                    <input type="text" formControlName="nom" id="nom" class="form-control form-control-lg" 
                           [class.is-invalid]="submitted && f['nom'].errors" />
                    @if (submitted && f['nom'].errors) {
                      <div class="invalid-feedback">
                        @if (f['nom'].errors['required']) {
                          <div>Le nom est requis</div>
                        }
                      </div>
                    }
                  </div>
                  
                  <!-- Form Group pour Prénom -->
                  <div class="form-group mb-4">
                    <label for="prenom" class="form-label">Prénom</label>
                    <input type="text" formControlName="prenom" id="prenom" class="form-control form-control-lg"
                           [class.is-invalid]="submitted && f['prenom'].errors" />
                    @if (submitted && f['prenom'].errors) {
                      <div class="invalid-feedback">
                        @if (f['prenom'].errors['required']) {
                          <div>Le prénom est requis</div>
                        }
                      </div>
                    }
                  </div>
                  
                  <!-- Form Group pour Téléphone -->
                  <div class="form-group mb-4">
                    <label for="telephone" class="form-label">Téléphone</label>
                    <input type="tel" formControlName="telephone" id="telephone" class="form-control form-control-lg"
                           [class.is-invalid]="submitted && f['telephone'].errors" />
                    @if (submitted && f['telephone'].errors) {
                      <div class="invalid-feedback">
                        @if (f['telephone'].errors['required']) {
                          <div>Le téléphone est requis</div>
                        }
                        @if (f['telephone'].errors['pattern']) {
                          <div>Veuillez saisir un numéro valide</div>
                        }
                      </div>
                    }
                  </div>
                  
                  <!-- Form Group pour Email -->
                  <div class="form-group mb-4">
                    <label for="email" class="form-label">Email</label>
                    <input type="email" formControlName="email" id="email" class="form-control form-control-lg"
                           [class.is-invalid]="submitted && f['email'].errors" />
                    @if (submitted && f['email'].errors) {
                      <div class="invalid-feedback">
                        @if (f['email'].errors['required']) {
                          <div>L'email est requis</div>
                        }
                        @if (f['email'].errors['email']) {
                          <div>Veuillez saisir un email valide</div>
                        }
                      </div>
                    }
                  </div>
                  
                  <!-- Form Group pour Adresse -->
                  <div class="form-group mb-4">
                    <label for="adresse" class="form-label">Adresse</label>
                    <input type="text" formControlName="adresse" id="adresse" class="form-control form-control-lg"
                           [class.is-invalid]="submitted && f['adresse'].errors" />
                    @if (submitted && f['adresse'].errors) {
                      <div class="invalid-feedback">
                        @if (f['adresse'].errors['required']) {
                          <div>L'adresse est requise</div>
                        }
                      </div>
                    }
                  </div>
                  
                  <!-- Form Group pour Mot de passe -->
                  <div class="form-group mb-4">
                    <label for="motDePasse" class="form-label">Mot de passe</label>
                    <input type="password" formControlName="motDePasse" id="motDePasse" class="form-control form-control-lg"
                           [class.is-invalid]="submitted && f['motDePasse'].errors" />
                    @if (submitted && f['motDePasse'].errors) {
                      <div class="invalid-feedback">
                        @if (f['motDePasse'].errors['required']) {
                          <div>Le mot de passe est requis</div>
                        }
                        @if (f['motDePasse'].errors['minlength']) {
                          <div>Le mot de passe doit contenir au moins 6 caractères</div>
                        }
                      </div>
                    }
                  </div>
                  
                  <div class="d-flex justify-content-end pt-3">
                    <button type="button" class="btn btn-light btn-lg" (click)="resetForm()">Annuler</button>
                    <button type="submit" class="btn btn-danger text-white btn-lg ms-2">S'inscrire</button>
                  </div>
                </form>
              </div>
            </div>
            <!-- Fin du formulaire -->
          </div>
        </div>
      </div>
    </div>
  </div>
</section>